CREATE TABLE IF NOT EXISTS STUDENT(
    CODE INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    NAME TEXT NOT NULL,
    SURNAME TEXT NOT NULL,
    EMAIL TEXT NOT NULL,
    STUDYPLAN_ID INTEGER,
    PASSWORD TEXT NOT NULL,
    SALT TEXT NOT NULL,
    FOREIGN KEY(STUDYPLAN_ID) REFERENCES STUDYPLAN(ID) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS STUDYPLAN(
    ID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    TYPE TEXT NOT NULL,
    CREDITS INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS COURSE(
    CODE TEXT NOT NULL PRIMARY KEY,
    NAME TEXT NOT NULL,
    DESCRIPTION TEXT,
    CREDITS INTEGER NOT NULL,
    PREPARATORY_COURSE_CODE TEXT,
    MAX_STUDENT_NUMBER INTEGER
);

CREATE TABLE IF NOT EXISTS STUDYPLAN_COURSE(
    COURSE_CODE TEXT NOT NULL,
    STUDYPLAN_ID INTEGER NOT NULL,
    PRIMARY KEY(COURSE_CODE, STUDYPLAN_ID),
    FOREIGN KEY(COURSE_CODE) REFERENCES COURSE(CODE) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY(STUDYPLAN_ID) REFERENCES STUDYPLAN(ID) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS INCOMPATIBLE_COURSE(
    COURSE_CODE TEXT NOT NULL,
    INCOMPATIBLE_COURSE_CODE TEXT NOT NULL,
    PRIMARY key(COURSE_CODE, INCOMPATIBLE_COURSE_CODE),
    FOREIGN KEY(COURSE_CODE) REFERENCES COURSE(CODE) ON DELETE CASCADE ON UPDATE CASCADE
);

-- INSERTING COURSES --

--Architetture dei sistemi di elaborazione--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('02GOLOV', 'Architetture dei sistemi di elaborazione', null, 12, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('02GOLOV', '02LSEOV');

--Computer architectures--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('02LSEOV', 'Computer architectures', null, 12, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('02LSEOV', '02GOLOV');

--Data Science and Database Technology--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01SQJOV', 'Data Science and Database Technology', null, 8, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01SQJOV', '01SQMOV');

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01SQJOV', '01SQLOV');

--Data Science e Tecnologie per le Basi di Dati--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01SQMOV', 'Data Science e Tecnologie per le Basi di Dati', null, 8, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01SQMOV', '01SQJOV');

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01SQMOV', '01SQLOV');

--Database systems--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01SQLOV', 'Database systems', null, 8, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01SQLOV', '01SQJOV');

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01SQLOV', '01SQMOV');

--Computer network technologies and services--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01OTWOV', 'Computer network technologies and services', null, 6, null, 3);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01OTWOV', '02KPNOV');

--Tecnologie e servizi di rete--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('02KPNOV', 'Tecnologie e servizi di rete', null, 6, null, 3);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('02KPNOV', '01OTWOV');

--Information systems security services
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01TYMOV', 'Information systems security services', null, 12, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01TYMOV', '01UDUOV');

--Sicurezza dei sistemi informativi--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01UDUOV', 'Sicurezza dei sistemi informativi', null, 12, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01UDUOV', '01TYMOV');

--Ingegneria del software--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('05BIDOV', 'Ingegneria del software', null, 6, '02GOLOV', null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('05BIDOV', '04GSPOV');

--Software engineering--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('04GSPOV', 'Software engineering', null, 6, '02LSEOV', null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('04GSPOV', '05BIDOV');

--Applicazioni Web I--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01UDFOV', 'Applicazioni Web I', null, 6, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01UDFOV', '01TXYOV');

--Web Applications I--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01TXYOV', 'Web Applications I', null, 6, null, 3);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01TXYOV', '01UDFOV');

--Web Applications II--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01TXSOV', 'Web Applications II', null, 6, '01TXYOV', null);

--Programmazione di sistema--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('02GRSOV', 'Programmazione di sistema', null, 6, null, null);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('02GRSOV', '01NYHOV');

--System and device programming--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01NYHOV', 'System and device programming', null, 6, null, 3);

INSERT INTO INCOMPATIBLE_COURSE (COURSE_CODE, INCOMPATIBLE_COURSE_CODE)
VALUES('01NYHOV', '02GRSOV');

--Reti Locali e Data Center--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01SQOOV', 'Reti Locali e Data Center', null, 6, null, null);

--Software networking--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01TYDOV', 'Software networking', null, 7, null, null);

--Challenge--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('03UEWOV', 'Challenge', null, 5, null, null);

--Computational intelligence--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01URROV', 'Computational intelligence', null, 6, null, null);

--Model based software design--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01OUZPD', 'Model based software design', null, 4, null, null);

--Internet Video Streaming--
INSERT INTO COURSE (CODE, NAME, DESCRIPTION, CREDITS, PREPARATORY_COURSE_CODE, MAX_STUDENT_NUMBER)
VALUES('01URSPD', 'Internet Video Streaming', null, 6, null, 2);

-- Inserting Students --

INSERT INTO STUDENT (NAME, SURNAME, EMAIL, STUDYPLAN_ID, PASSWORD, SALT)
VALUES('Ahmed', 'Khater', 'student1@studenti.polito.it', null, 'e06a2f2073a3d66d1ca4fd6ce04c64fe684ea19c27660b05e2fbf7269ce9ff4256c0301e675be2b5f3cc9a4c3b636a49458d9ff49b84f7e3303f4a06dcd07cf3', '72e4eeb14def3b21');

INSERT INTO STUDENT (NAME, SURNAME, EMAIL, STUDYPLAN_ID, PASSWORD, SALT)
VALUES('Mohamed', 'Khater', 'student2@studenti.polito.it', null, '2aaec1dd7865a838d6ab82ce9a5c0290a74e3c1be45be96546eb61d24e5715465cd2310ae5accc11a119b06249bea3dd0f59e938746df165614623691dada7b6', '8ddc7df9db322a76');

INSERT INTO STUDENT (NAME, SURNAME, EMAIL, STUDYPLAN_ID, PASSWORD, SALT)
VALUES('Menna', 'Mohamed', 'student3@studenti.polito.it', null, '11197f27a0fe429bab5a386b048842348a1e88126f9cdc6ed31729687e9aa2ad4190334026ec494e0c971694a04ee5588fbce071899693bd78816d84d1a1de7e', 'mqrsmxkz8b0b5zfk');

INSERT INTO STUDENT (NAME, SURNAME, EMAIL, STUDYPLAN_ID, PASSWORD, SALT)
VALUES('Eslam', 'Khater', 'student4@studenti.polito.it', null, 'd362850726a3d983dd704c8f2b78fc00a06c076e88724f6444771e1c5889451f61c984f8a803bc513043d18757bc1061e21f48eea4942db17251a5d6103d7a3c', '9ym5gcotnwdy9cyg');

INSERT INTO STUDENT (NAME, SURNAME, EMAIL, STUDYPLAN_ID, PASSWORD, SALT)
VALUES('Adam', 'Khater', 'student5@studenti.polito.it', null, 'bde129934c92061e75919344b2ed0f5c1365a10bc2903985e37fc307f3c2ede20bd50c5993384d1cb4a035dfe08a1408cdab47415bdef78682aaa2a33f8af475', '62jc7momc1kp2xm0')

